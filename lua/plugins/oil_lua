return {
	{
		"stevearc/oil.nvim",
    -- lazy = true, -- Enable lazy loading
		event = "VeryLazy", -- Optional: Lazy-load on events to improve startup time
    opts = {
        delete_to_trash = true,
        skip_confirm_for_simple_edits = true,
        view_options = {
            show_hidden = true,
            is_always_hidden = function(name, _)
                return vim.startswith(name, ".DS_Store")
            end,
        },
        keymaps = {
            ["<C-v>"] = false, -- Split
            ["<C-s>"] = false, -- refresh
            ["<leader>os"] = "actions.select_split",
            ["<leader>ov"] = "actions.select_vsplit",
            ["<C-g>"] = "actions.refresh",
        },
        float = {padding = 4},
				win_options = {
					wrap = false,
					signcolumn = "no",
					cursorcolumn = false,
					foldcolumn = "0",
					spell = false,
					list = false,
					conceallevel = 3,
					concealcursor = "nvic",
				},
    },
		-- Optional dependencies
		dependencies = { "nvim-tree/nvim-web-devicons" },
		config = function()
			require("oil").setup({
			})

			-- Add the custom keymap for <leader>j to open oil float and preview
			vim.keymap.set("n", "<leader>oo", function()
				require("oil").open_float()
				-- Wait until oil has opened, for a maximum of 1 second.
				vim.wait(1000, function()
					return require("oil").get_cursor_entry() ~= nil
				end)
				if require("oil").get_cursor_entry() then
					require("oil").open_preview()
				end
			end, { desc = "[o]pen [O]il" })
		end,
	},
}

